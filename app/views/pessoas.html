<div class="second-navbar-bg">
    <nav class="row second-navbar">
        <div class="large-11 medium-13 small-13 columns">
            <ul class="large-14 medium-14 small-14 columns">
                <!--<li class="large-4 medium-4 small-4 columns">
                    <a class="btn-second-nav" href="#contact"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Atribuir Serviços</a>
                </li>
                <li class="large-4 medium-4 small-4 columns">
                    <a class="btn-second-nav" href="#contact"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span> Retirar Serviços</a>
                </li>
                <li class="large-6 medium-6 small-6 columns"></li>-->

            </ul>
        </div>
        <div class="large-3 medium-1 small-1 columns">
            <div class="large-3 medium-14 small-14 columns"></div>
            <div class="large-11 hide-for-medium-down columns">
                <form class="form-search">
                    <div class="input-append">
                        <input type="text" class="span2 search-query" ng-model="searchText">
                        <div class="search-icon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div>
                    </div>
                </form>
            </div>
        </div>
    </nav>
</div>

<div class="row">
  <div class="large-14 medium-14 small-14 columns container-table">
     <table class="table">
        <thead>
          <tr>
            <th>Apelido</th>
            <th>Nome</th>
            <th>N. Posto</th>
            <th>N. GNR</th>
            <th>Categoria</th>
            <th>Data ingresso</th>
            <th>Ativo</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
      <tr ng-repeat="(key, pessoa) in dataPessoas">
          <th>{{pessoa.apelido}}</th>
          <th>{{pessoa.pNome}} {{pessoa.uNome}}</th>
          <th>{{pessoa.numeroPosto}}</th>
          <th>{{pessoa.numeroGNR}}</th>
          <th>{{pessoa.categoria.designacao}}</th>
          <th>{{pessoa.dataIngresso}}</th>
          <th><input type="checkbox" ng-model="pessoa.ativo" disabled class="checkbox-big"></th>
          <th><a class="btn-edit-rem" ng-click="getServiceHSByPerson(key)" data-toggle="modal" data-target="#myModalHabilitaServicos"><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></a>
           <a class="btn-edit-rem" ng-click="definePessoa(key)" data-toggle="modal" data-target="#myModalPessoa">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
            </a>
            <a class="btn-edit-rem" data-toggle="modal" data-target="#myModalConfirmDelete" ng-click="definePessoa(key)">  <span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
           </th>

   </tr>
</tbody>
</table>
<a class="btn-new-servico" ng-click="startNewPessoa()" data-toggle="modal" data-target="#myModalPessoa"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Nova Pessoa </a>
</div>
</div>


<!-- Modal -->
<div class="modal fade" id="myModalPessoa" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Pessoa</h4>
            </div>

            <div class="modal-body">
                <form>
                    <div class="row">
                        <div class="small-2 columns">
                            <label for="modal-pNome" class="right inline">Pri. Nome: </label>
                        </div>
                        <div class="small-5 columns">
                            <input ng-model="selectedPessoa.pNome" type="text" class="form-control" id="modal-pNome">
                        </div>


                        <div class="small-2 columns">
                            <label for="modal-uNome" class="right inline">Ult. Nome: </label>
                        </div>
                        <div class="small-5 columns">
                            <input ng-model="selectedPessoa.uNome" type="text" class="form-control" id="modal-uNome">
                        </div>

                    </div>
                    <div class="row">

                        <div class="small-2 columns">
                            <label for="modal-apelido" class="right inline">Apelido: </label>
                        </div>
                        <div class="small-5 columns">
                            <input ng-model="selectedPessoa.apelido" type="text" class="form-control" id="modal-apelido">
                        </div>


                        <div class="small-2 columns">
                            <label for="modal-dataIngresso" class="right inline">D. Ingresso: </label>
                        </div>
                        <div class="small-5 columns">
                            <input ng-model="selectedPessoa.newDataIngresso" type="date" class="form-control" id="modal-dataIngresso">
                        </div>
                    </div>

                    <div class="row">
                        <div class="small-2 columns">
                            <label for="modal-telemovel" class="right inline">Telemovel: </label>
                        </div>
                        <div class="small-3 columns">
                            <input ng-model="selectedPessoa.telemovel" type="text" class="form-control" id="modal-telemovel">
                        </div>
                        <div class="small-2 columns">
                            <label for="modal-telefone" class="right inline">Telefone: </label>
                        </div>
                        <div class="small-3 columns">
                            <input ng-model="selectedPessoa.telefone" type="text" class="form-control" id="modal-telefone">
                        </div>

                        <div class="small-2 columns">
                            <label for="modal-categoria" class="right inline">Categoria: </label>
                        </div>
                        <div class="small-2 columns">
                            <select class="select-modal" id="modal-categoria" ng-options="categoria.designacao for categoria in dataCategorias" ng-model="selectedPessoa.categoria" ></select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="small-2 columns">
                            <label for="modal-numeroGNR" class="right inline">Num. GNR: </label>
                        </div>
                        <div class="small-4 columns">
                            <input ng-model="selectedPessoa.numeroGNR" type="text" class="form-control" id="modal-numeroGNR">
                        </div>
                        <div class="small-4 columns">
                            <label for="modal-numeroPosto" class="right inline">Num. Posto: </label>
                        </div>
                        <div class="small-4 columns">
                            <input ng-model="selectedPessoa.numeroPosto" type="text" class="form-control" id="modal-numeroPosto">
                        </div>
                    </div>
                    <div class="row">

                        <div class="small-2 columns">
                            <label for="modal-rua" class="right inline">Rua: </label>
                        </div>
                        <div class="small-7 columns">
                            <input ng-model="selectedPessoa.rua" type="text" class="form-control" id="modal-rua">
                        </div>


                        <div class="small-2 columns">
                            <label for="modal-porta" class="right inline">Porta: </label>
                        </div>
                        <div class="small-3 columns">
                            <input ng-model="selectedPessoa.porta" type="text" class="form-control" id="modal-porta">
                        </div>
                    </div>
                    <div class="row">
                        <div class="small-2 columns">
                            <label for="modal-cP" class="right inline">Cod. Posta: </label>
                        </div>
                        <div class="small-3 columns">
                            <input ng-model="selectedPessoa.cP" type="text" class="form-control" id="modal-cP">
                        </div>
                        <div class="small-2 columns">
                            <label for="modal-cidade" class="right inline">Cidade: </label>
                        </div>
                        <div class="small-3 columns">
                            <input ng-model="selectedPessoa.cidade" type="text" class="form-control" id="modal-cidade">
                        </div>
                        <div class="small-2 columns">
                            <label for="modal-ativo" class="right inline">Ativo: </label>
                        </div>
                        <div class="small-2 columns">
                            <input class="form-control checkbox-big" type="checkbox" ng-model="selectedPessoa.ativo">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" ng-click="savePessoa(selectedPessoa)" data-dismiss="modal">Gravar</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Confirm delete-->
<div class="modal fade" id="myModalConfirmDelete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Corfirmação de eliminação</h4>
            </div>

            <div class="modal-body">
                <p>Ao eliminar esta pessoa irá eliminar todos os serviços que foram atribuidos à mesma. Em aternaviva poderá alterar o estado da pessoa para inativa.</p>
                <p></p>
            	<p>Têm a certeza que deseja eliminar?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <button type="button" ng-click="removePessoa() "class="btn btn-primary" data-dismiss="modal">Sim</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Habilita Servicos-->
<div class="modal fade" id="myModalHabilitaServicos" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Habilita Serviços</h4>
            </div>

            <div class="modal-body">
                <p><h4>{{selectedPessoa.apelido}}</h4></p>
                <table class="table">
                    <thead>
                      <tr>
                        <th><a class="btn-edit-rem" ng-click="checkAll()"><span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span> Check All</a></th>
                        <th>Prefixo</th>
                        <th>Nome</th>
                        <th>Serviço Minimo</th>
                    </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="tServico in allTipoServicos">
                      <th><input type="checkbox" checklist-model="userTipoServicos" checklist-value="tServico"></th>
                      <th>{{tServico.prefixo}}</th>
                      <th>{{tServico.nome}}</th>
                      <th><input type="checkbox" ng-model="tServico.servicoMinimo" disabled class="checkbox-big"></th>
                  </tr>
              </tbody>
          </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
        <button type="button" ng-click="updateServiceHSByPerson() "class="btn btn-primary" data-dismiss="modal">Sim</button>
    </div>
</div>
</div>
</div>